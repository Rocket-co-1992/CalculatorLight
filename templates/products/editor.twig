{% extends "base.twig" %}

{% block title %}Web-to-Print Editor - {{ product.name }}{% endblock %}

{% block content %}
<div class="editor-wrapper">
    <div class="editor-sidebar">
        <div class="templates-section">
            <h3>Templates</h3>
            <div class="template-grid">
                {% for template in templates %}
                    <div class="template-item" data-template-id="{{ template.id }}">
                        <img src="{{ template.thumbnail }}" alt="{{ template.name }}">
                        <span>{{ template.name }}</span>
                    </div>
                {% endfor %}
            </div>
        </div>
        <h2>{{ product.name }}</h2>
        <div class="product-options">
            <form id="productForm">
                <div class="form-group">
                    <label>Quantity</label>
                    <input type="number" name="quantity" min="1" value="1">
                </div>
                <div class="form-group">
                    <label>Size</label>
                    <select name="size">
                        <option value="standard">Standard</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Finishing</label>
                    <select name="finishing" multiple>
                        <option value="lamination">Lamination</option>
                        <option value="uv">UV Coating</option>
                        <option value="foil">Foil Stamping</option>
                    </select>
                </div>
            </form>
        </div>
    </div>
    
    <div id="editor" class="editor-container"></div>
    
    <div class="editor-actions">
        <button id="saveBtn" class="btn primary">Save Design</button>
        <button id="previewBtn" class="btn">Preview</button>
        <button id="orderBtn" class="btn success">Place Order</button>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script src="/assets/js/editor.js"></script>
<script>
    const editor = new WebToPrintEditor('editor', {{ editorConfig|json_encode|raw }});
</script>
{% endblock %}
